* Outline
** Neutrino oscillation
** Daya Bay experiment
** Calibration
*** Time
*** Gain
*** Energy
** Reconstruction
*** Energy
*** Vertex
** IBD selection
*** General process; not specific cuts yet
** Backgrounds
*** Accidentals
*** Li9/He8
*** Fast neutrons
*** AmC
*** Alpha-n
** Reactor modeling?
** Systematics
** Covariance matrix (or pull term) construction
** Results for nominal cuts
** Cut optimization
** Final result
* Extra packages
- latexsym
- See RevTeX docs
- textcomp
- manyfoot
- hyphenat
- array/tabularx/supertabular/tabu: [[https://tex.stackexchange.com/questions/341205/what-is-the-difference-between-tabular-tabular-and-tabularx-environments][tabular*]]
- ragged2e
- changepage
- sidenotes/marginnote
- enumitem/paralist
- titlesec/fancyhdr
  
* Other classes
- tufte

* Answers
- [[https://tex.stackexchange.com/questions/50352/inserting-a-small-vertical-space-in-a-table][Table vertical spacing]]
- [[https://tex.stackexchange.com/questions/50332/vertical-spacing-of-a-table-cell][More table vertical spacing]] (google: latex table add vertical spacing)
- [[https://tex.stackexchange.com/questions/101553/margin-notes-on-both-left-and-right][Margin notes]]
- [[https://tex.stackexchange.com/questions/185957/place-text-on-left-margin][More margin notes]], [[http://www.cse.iitd.ernet.in/~anup/homepage/UNIX/latex.html#marginparwoflow][also this]]
- [[https://tex.stackexchange.com/questions/16337/can-i-get-a-widebar-without-using-the-mathabx-package/60253#60253][Widebar]] and [[https://tex.stackexchange.com/questions/22100/the-bar-and-overline-commands][etc.]]
- [[http://everythingyouforgetaboutlatex.blogspot.com/2008/10/formatting-tables.html][Basic table spacing]]
- [[https://latex.org/forum/viewtopic.php?t=30580][Paragraphs in tabular(x)]] (google: latex paragraphs in tabular)
  
* References
- [[http://texdoc.net/texmf-dist/doc/plain/texbytopic/TeXbyTopic.pdf][TeX by Topic]]

* BibLaTeX
- addbibresource
- parencite(s)?
- multicite
- autocite; \let\cite\autocite
- textcite, smartcite
- parencite: no effect unless citestyle=authoryear
- JUST USE cite!!! (or autocite)
- natbib=true: citep, citet
- address -> location
- journal -> journaltitle
- date
- https://tex.stackexchange.com/questions/5091/what-to-do-to-switch-to-biblatex
- blockcquote

* Emacs stuff
** [[https://lists.gnu.org/archive/html/auctex/2016-12/msg00030.html][{AUCTeX} Subfiles package and reftex]]
NB: Looks like it's not necessary to explicitly set TeX-master. AUCTeX and
RefTeX are clever enough to figure things out.
** Bibliography setup
#+BEGIN_SRC emacs-lisp
  (setq reftex-default-bibliography '("/home/mkramer/physics/thesis/biblio.bib"))
  (setq bibtex-completion-bibliography reftex-default-bibliography)
  (setq org-ref-default-bibliography reftex-default-bibliography)
  (setq bibtex-completion-library-path '("/home/mkramer/physics/thesis/refs"))
  (setq org-ref-pdf-directory (car bibtex-completion-library-path))
  (setq helm-bibtex-full-frame nil)
  (add-hook 'pdf-view-mode-hook #'pdf-view-midnight-minor-mode)
#+END_SRC

cite:An_2017
,An_2017
label:sdf

label:foo

ref:sdf

cite:An_2017

* Analysis notes
** Background histogram
Total height of stack has natural interpretation. Within each bin, the total
height is divided up between components, such that equal contributors will have
equal heights after unstacking and placing side-by-side. For unequal
contributors, the heights (after unstacking) will reflect their logarithmic
difference, i.e., each major axis increment corresponds to a factor of ten.
* Sources of images
- [[https://www.forbes.com/sites/startswithabang/2018/12/05/is-there-really-a-fourth-neutrino-out-there-in-the-universe/#7d2e9da833d0][Neutrino masses]]
* References
** Big presentation on reactor neutrinos etc.
- [[http://www.awa.tohoku.ac.jp/geoscience2013/wp-content/uploads/2012/08/NGS2013_Mar21_Lasserre.pdf][NGS2013_Mar21_Lasserre.pdf]]
** Jan 29, 2019
- [[http://www0.mi.infn.it/~sleoni/TEACHING/Nuc-Phys-Det/PDF/Lezione-partI-3-neutrons.pdf][Interaction of neutrons with matter]]
- [[https://nukephysik101.wordpress.com/2016/02/29/fermi-and-gamow-teller-transition/][Fermi and Gamow-Teller transitions]]
- [[https://jyx.jyu.fi/bitstream/handle/123456789/55927/URN:NBN:fi:jyu-201711204300.pdf?sequence=1][Theoretical study of forbidden unique and non-unique beta decays of medium-heavy nuclei]]
- [[https://arxiv.org/pdf/1812.06739.pdf][Future opportunities in accelerator-based neutrino physics]]
- [[https://arxiv.org/pdf/1609.03268.pdf][Beta spectrum of unique first-forbidden decays as a novel test for fundamental symmetries]]
** DocDB references
*** Backgrounds
**** Fast neutrons
- http://dayabay.ihep.ac.cn/cgi-bin/DocDB/ShowDocument?docid=11787 (Baobiao, BeijingMtng2018)
** Statistics
- [[https://arxiv.org/abs/1007.1727][{1007.1727} Asymptotic formulae for likelihood-based tests of new physics]] (Cowan et al.)
- [[https://arxiv.org/abs/1407.5052][{1407.5052} The Gaussian CL_s Method for Searches of New Physics]] (Qian et al.)
- [[https://arxiv.org/abs/1503.07622][{1503.07622} Practical Statistics for the LHC]] (Cranmer)
*** From Henoch
- https://indico.cern.ch/event/117033/contributions/1327622/attachments/55727/80176/Cranmer_L3_4pp_smaller.pdf
- https://www.physi.uni-heidelberg.de/Forschung/he/LHCb/documents/WorkshopNeckarzMar14/neckarimmern2014-schumacher.pdf
- https://arxiv.org/pdf/physics/0310108.pdf
** SLURM
- http://www.cism.ucl.ac.be/Services/Formations/slurm/2016/slurm.pdf
* Software
** Uncertainty propagation
- https://en.wikipedia.org/wiki/List_of_uncertainty_propagation_software
- https://github.com/lebigot/uncertainties/
- https://mc-stan.org/
- https://pypi.org/project/soerp/
- https://github.com/BreakingBytes/UncertaintyWrapper
- http://openturns.github.io/openturns/master/index.html
- https://github.com/gplepage/gvar
- https://github.com/symengine/symengine
- https://github.com/vgvassilev/clad
** Julia
*** Tab-completion in the REPL
- [[https://github.com/JuliaLang/julia/issues/30052][JuliaLang/julia#30052 list of available methods in REPL]]
- [[https://github.com/JunoLab/Juno.jl/issues/199][JunoLab/Juno.jl#199 Method autocompletion for given argument type]]
- [[https://discourse.julialang.org/t/my-mental-load-using-julia-is-much-higher-than-e-g-in-python-how-to-reduce-it/18902/13][My mental load using Julia is much higher than, e.g., in Python. How to reduc...]]
- [[https://discourse.julialang.org/t/ann-interactivecodesearch-jl-interactively-search-julia-code/17657][ANN: InteractiveCodeSearch.jl --- Interactively search Julia code - Package a...]]
- [[https://discourse.julialang.org/t/how-to-discover-functions-which-apply-to-a-given-object/21087/31][How to discover functions which apply to a given object? - First steps - Juli...]]
- [[https://github.com/JuliaLang/julia/pull/24990][JuliaLang/julia#24990 RFC: curry underscore arguments to create anonymous fun...]]
*** Printing the whole thing
- display(Base.Multimedia.displays[1], goodcols)
- Base.Multimedia.displays[2].repl.options.iocontext[:displaysize] = (100, 80)
- Try using Base.active_repl to simplify ^ (Base.active_repl.options.iocontext...)
- show(IOContext(stdout, :limit => true, :displaysize => (100, 80)), MIME"text/plain"(), thing)
- [[https://stackoverflow.com/questions/57898253/julia-which-environment-variable-setting-controls-the-number-of-elements-printe][display - Julia: which environment variable/setting controls the number of el...]]
*** Plotting
- [[https://discourse.julialang.org/t/histogram-bars-become-line-when-many-observations/32639/8][Histogram bars become line when many observations? - Visualization - JuliaLang]]
- [[https://github.com/JuliaPlots/Plots.jl/issues/141][JuliaPlots/Plots.jl#141 Specify text labels for xticks and yticks]]
- [[https://github.com/JuliaPlots/Plots.jl/issues/833][JuliaPlots/Plots.jl#833 Axis failure with log `xscale`]]
*** DataFrames
- [[https://github.com/bkamins/Julia-DataFrames-Tutorial][GitHub - bkamins/Julia-DataFrames-Tutorial: A tutorial on Julia DataFrames pa...]]
- [[https://github.com/JuliaData/DataFrames.jl/issues/123][JuliaData/DataFrames.jl#123 pairwise functions]] (OLD)
- [[https://discourse.julialang.org/t/datatables-or-dataframes/3160/31][DataTables or DataFrames? - Data - JuliaLang]]
- [[https://discourse.julialang.org/t/window-like-functions-in-dataframes/7891][Window like functions in DataFrames - Data - JuliaLang]]
*** UpROOT
- [[https://github.com/JuliaHEP/UpROOT.jl/issues/5][JuliaHEP/UpROOT.jl#5 Recognition of TTree breaks when matrices are in branches]] (FIXED?)
** LibreOffice from Python
- [[https://github.com/mila/pyoo][GitHub - mila/pyoo: PyOO allows you to control a running OpenOffice or LibreO...]]
- [[https://github.com/stummjr/impress-code-highlighter][GitHub - stummjr/impress-code-highlighter: A simple tool to highlight source ...]]
- [[https://stackoverflow.com/questions/33092424/control-libreoffice-impress-from-python][Control Libreoffice Impress from Python - Stack Overflow]]
- [[https://github.com/sonofeft/ODPSlides][GitHub - sonofeft/ODPSlides: Creates Opendocument Presentations For Microsoft...]]
- [[https://github.com/eea/odfpy][GitHub - eea/odfpy: API for OpenDocument in Python]]
- [[https://github.com/T0ha/ezodf][GitHub - T0ha/ezodf: ezodf is a Python package to create new or open existing...]]
* More bibliography management
** External tools
- Zotero / zotxt / zotero-better-bibtex / pandoc-citeproc
	- https://nickjudd.com/blog/2016/02/13/emacs-notes/
  - https://whk.name/cookbook/zoteroPandoc/
- JabRef
** org-ref/helm-bibtex hacks
*** Finding the bibliography
Instead of the below, could just set org-ref-default-bibliography
#+begin_src emacs-lisp :results none
(defun my//ad/thesis-find-bib (orig-fun &rest args)
  (if (and (buffer-file-name)
           (s-prefix? "/home/mkramer/physics/thesis" (buffer-file-name)))
      '("/home/mkramer/physics/thesis/biblio.bib")
    (apply orig-fun args)))

(advice-add #'org-ref-find-bibliography :around #'my//ad/thesis-find-bib)
#+end_src
*** TODO Formatting collaboration name in helm-bibtex
Should properly fix helm-bibtex and submit a PR (see #266, #267)
#+begin_src emacs-lisp :results none
(defun my//ad/fix-bibtex-completion-author-abbrev (orig-fun &rest args)
  (-let* (((old-field entry default) args)
          (new-field (if (equal old-field "author-abbrev")
                         "author"
                       old-field)))
    (apply orig-fun (list new-field entry default))))

(advice-add #'bibtex-completion-get-value :around #'my//ad/fix-bibtex-completion-author-abbrev)
#+end_src
* Things to investigate
** make_combined_spectra.C
- line 176: why do we use [0] instead of [j]
